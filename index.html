<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Windows XP - HAMMOUTENE LOTFI - Ing√©nieur RMSE</title>
    <style>
        /* === CSS principal (fusion des styles fournis) === */
        @import url('https://fonts.googleapis.com/css2?family=Tahoma:wght@400;700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Tahoma', sans-serif;
            font-size: 11px;
            overflow: hidden;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 50%, #00b894 100%);
            height: 100vh;
            user-select: none;
            position: relative;
        }

        /* Fond XP */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('XP.jpg') no-repeat center center;
            background-size: cover;
            pointer-events: none;
            z-index: 1;
        }

        .desktop { height: calc(100vh - 30px); position: relative; padding: 20px; z-index: 2; }

        .desktop-icon {
            position: absolute;
            width: 72px; height: 72px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            cursor: pointer; padding: 8px; border-radius: 2px; transition: all 0.15s ease;
        }

        .desktop-icon:hover { background: rgba(255,255,255,0.2); border: 1px dotted rgba(255,255,255,0.6); }
        .desktop-icon.selected { background: rgba(49,106,197,0.8); border: 1px dotted white; }
        .desktop-icon img { width: 32px; height: 32px; margin-bottom: 4px; filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.5)); }
        .desktop-icon span { text-align:center; font-size:11px; line-height:1.1; word-wrap:break-word; max-width:64px; }

        .taskbar {
            position: fixed; bottom: 0; left: 0; right: 0; height: 30px;
            background: linear-gradient(to bottom, #245edb 0%, #1941a5 50%, #1336a0 51%, #1b3d9a 100%);
            border-top: 1px solid #4a90e2; display:flex; align-items:center; padding:0 2px; z-index:1000;
            box-shadow: 0 -1px 3px rgba(0,0,0,0.3);
        }

        .start-button {
            height:24px; background: linear-gradient(to bottom, #5cb85c 0%, #449d44 100%);
            border: 1px outset #5cb85c; color:white; font-weight:bold; font-size:11px; padding:0 16px;
            cursor:pointer; display:flex; align-items:center; border-radius:2px; margin:3px; position:relative;
        }
        .start-button:active { border:1px inset #5cb85c; background: linear-gradient(to bottom, #449d44 0%, #5cb85c 100%); }
        .start-button::before {
            content: ''; width:16px; height:16px;
            background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMgM0gxM1YxM0gzVjNaIiBmaWxsPSIjRkZGIiBzdHJva2U9IiNGRkYiLz4KPHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOCA4IiB4PSI0IiB5PSI0Ij4KPHJlY3Qgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0iIzMzQUVGRiIvPgo8L3N2Zz4KPC9zdmc+');
            margin-right:4px;
        }

        .taskbar-apps { flex:1; margin-left:5px; display:flex; gap:2px; }
        .taskbar-app {
            height:22px; background: linear-gradient(to bottom, #e6e6e6 0%, #c0c0c0 100%);
            border:1px outset #c0c0c0; padding:0 8px; display:flex; align-items:center; cursor:pointer; font-size:11px;
            max-width:150px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; color:#000;
        }
        .taskbar-app.active { border:1px inset #c0c0c0; background: linear-gradient(to bottom, #c0c0c0 0%, #e6e6e6 100%); }

        .system-tray { display:flex; align-items:center; gap:8px; margin-right:5px; font-size:11px; color:white; padding:0 5px; }
        .clock { background: linear-gradient(to bottom, #1e4ba8 0%, #1336a0 100%); border:1px inset #1336a0; padding:2px 6px; font-size:11px; }

        .window {
            position:absolute; background:#ece9d8; border:2px outset #ece9d8;
            min-width:400px; min-height:300px; display:none; box-shadow: 4px 4px 10px rgba(0,0,0,0.4); z-index:100;
        }
        .window.active { display:block; z-index:1000; }
        .window.maximized { top:0 !important; left:0 !important; width:100vw !important; height: calc(100vh - 30px) !important; }

        .window-header { height:26px; background: linear-gradient(to right, #0054e3 0%, #4a90e2 100%); color:white; display:flex; align-items:center; padding:0 8px; cursor:move; font-weight:bold; font-size:11px; }
        .window-header.inactive { background: linear-gradient(to right, #808080 0%, #a0a0a0 100%); }
        .window-title { flex:1; display:flex; align-items:center; }
        .window-icon { width:16px; height:16px; margin-right:6px; }
        .window-controls { display:flex; gap:2px; }
        .window-control {
            width:21px; height:21px; background: linear-gradient(to bottom, #e6e6e6 0%, #c0c0c0 100%);
            border:1px outset #c0c0c0; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:bold; color:#000;
        }
        .window-control:hover { background: linear-gradient(to bottom, #f0f0f0 0%, #d0d0d0 100%); }
        .window-control:active { border:1px inset #c0c0c0; background: linear-gradient(to bottom, #c0c0c0 0%, #e6e6e6 100%); }

        .window-content { padding:12px; height: calc(100% - 26px); overflow-y:auto; background:white; font-size:11px; line-height:1.4; }

        .start-menu {
            position:fixed; bottom:30px; left:0; width:300px; height:400px;
            background: linear-gradient(to right, #2d5aa8 0%, #ffffff 25%, #ffffff 100%); border:2px outset #c0c0c0;
            display:none; z-index:2000; box-shadow: 4px 4px 10px rgba(0,0,0,0.4);
        }
        .start-menu.active { display:block; }
        .start-menu-header { height:60px; background: linear-gradient(to right, #2d5aa8 0%, #4a90e2 100%); color:white; display:flex; align-items:center; padding:0 15px; font-weight:bold; font-size:18px; }
        .start-menu-items { padding:8px 0; }
        .start-menu-item { height:32px; padding:0 15px; display:flex; align-items:center; cursor:pointer; font-size:11px; color:#000; }
        .start-menu-item:hover { background:#316ac5; color:white; }
        .start-menu-item img { width:16px; height:16px; margin-right:10px; }

        .content-section h2 { color:#1565c0; border-bottom:2px solid #1565c0; padding-bottom:6px; margin-bottom:15px; font-size:14px; font-weight:bold; }
        .content-section h3 { color:#333; margin:15px 0 8px 0; font-size:12px; font-weight:bold; }

        .info-grid { display:grid; grid-template-columns: 1fr 1fr; gap:20px; margin:15px 0; }
        .info-box { background:#f5f5f5; padding:12px; border-left:4px solid #1565c0; border-radius:2px; }
        .skill-category { background:#f9f9f9; padding:10px; margin:8px 0; border-left:3px solid #4caf50; border-radius:2px; }
        .project-item { background:#fff8e1; padding:12px; margin:10px 0; border-left:3px solid #ff9800; border-radius:2px; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
        .experience-item { background:#f3e5f5; padding:12px; margin:10px 0; border-left:3px solid #9c27b0; border-radius:2px; box-shadow:0 1px 3px rgba(0,0,0,0.1); }

        .contact-info { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:15px; margin:15px 0; }
        a { text-decoration:none; }
        .contact-item { background:#e8f5e8; padding:10px; border-radius:4px; display:flex; align-items:center; }
        .contact-item strong { color:#2e7d32; margin-right:8px; }

        ul { margin-left:20px; margin-top:8px; }
        li { margin:4px 0; }

        .notification {
            position: fixed; bottom:35px; right:10px; width:300px; background:#fff3cd; border:1px solid #ffeaa7;
            padding:10px; border-radius:4px; display:none; z-index:3000; font-size:11px; animation: slideIn 0.3s ease;
        }
        @keyframes slideIn { from { transform: translateX(100%); opacity:0; } to { transform: translateX(0); opacity:1; } }

        /* Boot & shutdown screens */
        .boot-screen {
            position: fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:100000; display:flex;
            flex-direction:column; align-items:center; justify-content:center; transition: opacity 1s ease;
        }
        .boot-screen.hidden { opacity:0; pointer-events:none; }
        .boot-logo { margin-bottom:50px; text-align:center; }
        .boot-logo h1 { color:#fff; font-size:48px; font-weight:bold; margin:0; text-shadow:0 0 20px rgba(255,255,255,0.5); }
        .boot-logo .subtitle { color:#999; font-size:14px; margin-top:10px; }
        .loading-bar { width:300px; height:8px; background:#333; border-radius:4px; overflow:hidden; position:relative; }
        .loading-bar::after {
            content:''; position:absolute; left:0; top:0; height:100%; width:0;
            background: linear-gradient(to right, #1565c0, #42a5f5); animation: loadingAnimation 3s ease-in-out forwards;
            box-shadow: 0 0 10px rgba(66,165,245,0.8);
        }
        @keyframes loadingAnimation { 0% { width:0%; } 20% { width:15%; } 40% { width:35%; } 60% { width:60%; } 80% { width:85%; } 100% { width:100%; } }
        .boot-text { color:#999; font-size:12px; margin-top:20px; animation: blink 1.5s infinite; }
        @keyframes blink { 0%,50%,100% { opacity:1; } 25%,75% { opacity:0.5; } }
/* √âcran shutdown "Digital Collapse" */
.shutdown-screen {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: radial-gradient(circle at center, #0a0a0f, #000);
    overflow: hidden;
    z-index: 100001;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-family: "Segoe UI", "Tahoma", sans-serif;
    animation: fadeIn 0.6s ease;
}

/* Active */
.shutdown-screen.active { display:flex; }

/* --- Fen√™tre stable --- */
.shutdown-message {
    color: #a0bfff;
    text-align: center;
    background: rgba(20,20,40,0.85);
    border: 2px solid #4d8cff;
    border-radius: 16px;
    padding: 30px 50px;
    box-shadow: 0 0 25px rgba(77,140,255,0.6);
}

/* Titre avec glow √©nerg√©tique */
.shutdown-message h2 {
    font-size: 28px;
    margin-bottom: 10px;
    color: #69f0ff;
    text-shadow: 0 0 6px #00f7ff, 0 0 12px #0077ff;
}

/* Sous-texte doux */
.shutdown-message p {
    font-size: 14px;
    opacity: 0.85;
    color: #c0d4ff;
}

/* --- Bouton "c≈ìur digital" --- */
.shutdown-btn {
    margin-top: 20px;
    padding: 14px 34px;
    font-size: 15px;
    font-weight: bold;
    color: white;
    background: linear-gradient(135deg, #00f7ff, #0077ff);
    border: none;
    border-radius: 40px;
    box-shadow: 0 0 20px rgba(0,200,255,0.7);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    animation: pulse 2s infinite;
    transition: transform 0.2s ease;
}

/* effet glossy subtile */
.shutdown-btn::before {
    content: "";
    position: absolute;
    top: 0; left: -75%;
    width: 50%; height: 100%;
    background: rgba(255,255,255,0.2);
    transform: skewX(-25deg);
    animation: shine 3s infinite;
}

.shutdown-btn:hover {
    transform: scale(1.08);
    box-shadow: 0 0 25px rgba(0,200,255,1);
}

.shutdown-btn:active {
    transform: scale(0.95);
    box-shadow: inset 0 0 15px rgba(0,200,255,0.8);
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 0 15px rgba(0,200,255,0.6); }
    50% { box-shadow: 0 0 35px rgba(0,200,255,1); }
}

@keyframes shine {
    from { left: -75%; }
    to { left: 125%; }
}

        @media (max-width:768px) {
            .desktop { padding:10px; }
            .window { min-width:90vw; min-height:80vh; top:5vh !important; left:5vw !important; }
            .info-grid { grid-template-columns:1fr; }
            .start-menu { width:250px; height:350px; }
        }

        .dragging { opacity:0.8; z-index:1001 !important; }

        /* simple style for the custom context menu (the JS injects this inline but fallback) */
        #context-menu { font-size:11px; border-radius:4px; }
    </style>
</head>
<body>
    <!-- √âcran de boot -->
    <div class="boot-screen" id="boot-screen">
        <div class="boot-logo">
            <h1>Windows XP</h1>
            <div class="subtitle">Portfolio Edition</div>
        </div>
        <div class="loading-bar"></div>
        <div class="boot-text">Chargement du portfolio de HAMMOUTENE LOTFI...</div>
    </div>

    <!-- √âcran d'arr√™t -->
    <div class="shutdown-screen" id="shutdown-screen">
        <div class="shutdown-message">
            <h2>Merci de votre visite !</h2>
            <p>Windows XP Portfolio se ferme...</p>
              <button class="shutdown-btn" onclick="location.reload()">Allumer</button>
           
        </div>
    </div>

    <!-- Bureau -->
    <div class="desktop" id="desktop">
        <!-- Ic√¥nes -->
        <div class="desktop-icon" style="left:20px; top:20px;" data-window="about-window">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI2IDhINlYyNkgyNlY4WiIgZmlsbD0iI0ZGRDc0MyIgc3Ryb2tlPSIjRkY5ODAwIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTYgOEgyNlYxMkg2VjhaIiBmaWxsPSIjRkY5ODAwIi8+Cjx0ZXh0IHg9IjE2IiB5PSIyMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEwIiBmaWxsPSIjMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5BPC90ZXh0Pgo8L3N2Zz4=" alt="Profil">
            <span>Profil</span>
        </div>

        <div class="desktop-icon" style="left:20px; top:110px;" data-window="formation-window">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI2IDhINlYyNkgyNlY4WiIgZmlsbD0iIzQzQTc0NyIgc3Ryb2tlPSIjMkU3RDMyIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTYgOEgyNlYxMkg2VjhaIiBmaWxsPSIjMkU3RDMyIi8+CjxyZWN0IHg9IjEwIiB5PSIxNiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjIiIGZpbGw9IiNGRkYiLz4KPHJlY3QgeD0iMTAiIHk9IjIwIiB3aWR0aD0iOCIgaGVpZ2h0PSIyIiBmaWxsPSIjRkZGIi8+Cjwvc3ZnPg==" alt="Formation">
            <span>Formation</span>
        </div>

        <div class="desktop-icon" style="left:20px; top:200px;" data-window="skills-window">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI2IDhINlYyNkgyNlY4WiIgZmlsbD0iIzIxOTZGMyIgc3Ryb2tlPSIjMTU2NUMwIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTYgOEgyNlYxMkg2VjhaIiBmaWxsPSIjMTU2NUMwIi8+CjxjaXJjbGUgY3g9IjE2IiBjeT0iMTkiIHI9IjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xNiAxNFYyNE0xMSAxOUgyMSIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+" alt="Comp√©tences">
            <span>Comp√©tences</span>
        </div>

        <div class="desktop-icon" style="left:20px; top:290px;" data-window="projects-window">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI2IDhINlYyNkgyNlY4WiIgZmlsbD0iI0ZGOTgwMCIgc3Ryb2tlPSIjRjU3QzAwIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTYgOEgyNlYxMkg2VjhaIiBmaWxsPSIjRjU3QzAwIi8+CjxyZWN0IHg9IjEwIiB5PSIxNiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNGRkYiLz4KPHJlY3QgeD0iOCIgeT0iMTgiIHdpZHRoPSIxNiIgaGVpZ2h0PSIyIiBmaWxsPSIjMzMzIi8+Cjwvc3ZnPg==" alt="Projets">
            <span>Exp√©riences & Projets</span>
        </div>

        <div class="desktop-icon" style="left:20px; top:380px;" data-window="contact-window">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI2IDhINlYyNkgyNlY4WiIgZmlsbD0iIzlDMjdCMCIgc3Ryb2tlPSIjNjkzQjc2IiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTYgOEgyNlYxMkg2VjhaIiBmaWxsPSIjNjkzQjc2Ii8+CjxyZWN0IHg9IjEwIiB5PSIxNiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMCAxNkwxNiAyMEwyMiAxNiIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+" alt="Contact">
            <span>Contact</span>
        </div>

        <div class="desktop-icon" style="left:120px; top:20px;" data-window="cv-window">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI0IDRIOFYyOEgyNFY0WiIgZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjQ0NDIiBzdHJva2Utd2lkdGg9IjIiLz4KPHJlY3QgeD0iMTAiIHk9IjgiIHdpZHRoPSIxMiIgaGVpZ2h0PSIyIiBmaWxsPSIjMzMzIi8+CjxyZWN0IHg9IjEwIiB5PSIxMiIgd2lkdGg9IjEwIiBoZWlnaHQ9IjIiIGZpbGw9IiMzMzMiLz4KPHJlY3QgeD0iMTAiIHk9IjE2IiB3aWR0aD0iOCIgaGVpZ2h0PSIyIiBmaWxsPSIjMzMzIi8+CjxyZWN0IHg9IjEwIiB5PSIyMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjIiIGZpbGw9IiMzMzMiLz4KPC9zdmc+" alt="CV">
            <span>CV Complet</span>
        </div>
    </div>

    <!-- Barre des t√¢ches -->
    <div class="taskbar">
        <div class="start-button" id="start-button">D√©marrer</div>
        <div class="taskbar-apps" id="taskbar-apps"></div>
        <div class="system-tray">
            <span>üîä</span>
            <span>üì°</span>
            <div class="clock" id="clock">00:00</div>
        </div>
    </div>

    <!-- Menu D√©marrer -->
    <div class="start-menu" id="start-menu">
        <div class="start-menu-header">HAMMOUTENE LOTFI</div>
        <div class="start-menu-items">
            <div class="start-menu-item" onclick="openWindow('about-window')">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOCIgY3k9IjYiIHI9IjIiIGZpbGw9IiMzMzMiLz4KPHJlY3QgeD0iNiIgeT0iMTAiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiIGZpbGw9IiMzMzMiLz4KPC9zdmc+" alt="">
                Profil
            </div>
            <div class="start-menu-item" onclick="openWindow('formation-window')">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiM0M0E3NDciLz4KPC9zdmc+" alt="">
                Formation
            </div>
            <div class="start-menu-item" onclick="openWindow('projects-window')">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNGRjk4MDAiLz4KPC9zdmc+" alt="">
                Exp√©riences & Projets
            </div>
            <div class="start-menu-item" onclick="openWindow('skills-window')">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOCIgY3k9IjgiIHI9IjMiIGZpbGw9IiMyMTk2RjMiLz4KPC9zdmc+" alt="">
                Comp√©tences
            </div>
            <div class="start-menu-item" onclick="openWindow('contact-window')">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiM5QzI3QjAiLz4KPC9zdmc+" alt="">
                Contact
            </div>
            <div class="start-menu-item" onclick="downloadCV()">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMyIgeT0iMiIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEyIiBmaWxsPSIjRkZGIiBzdHJva2U9IiNDQ0MiLz4KPC9zdmc+" alt="">
                T√©l√©charger mon CV
            </div>

            <hr style="margin:5px 15px; border:1px solid #ccc;">

            <div class="start-menu-item" onclick="triggerShutdown()">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOCIgY3k9IjgiIHI9IjYiIGZpbGw9IiNEQzM1NDUiLz4KPHBhdGggZD0iTTYgNkwxMCAxME02IDEwTDEwIDYiIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==" alt="">
                Arr√™ter l'ordinateur
            </div>
        </div>
    </div>

    <!-- Fen√™tres (Profil, Formation, Comp√©tences, Projets, Contact, CV) -->
    <div class="window" id="about-window" style="width:600px; height:500px; top:100px; left:200px;">
        <div class="window-header"><div class="window-title"><img class="window-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOCIgY3k9IjYiIHI9IjIiIGZpbGw9IiNGRkYiLz4KPHJlY3QgeD0iNiIgeT0iMTAiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiIGZpbGw9IiNGRkYiLz4KPC9zdmc+" alt=""> Profil - HAMMOUTENE LOTFI</div>
            <div class="window-controls">
                <div class="window-control" onclick="minimizeWindow('about-window')">_</div>
                <div class="window-control" onclick="maximizeWindow('about-window')">‚ñ°</div>
                <div class="window-control" onclick="closeWindow('about-window')">√ó</div>
            </div>
        </div>
        <div class="window-content">
            <h2>Ing√©nieur en R√©seaux, Mobilit√© et Syst√®mes Embarqu√©s</h2>
            <div class="info-grid">
                <div class="info-box"><strong>üéÇ √Çge :</strong><br>24 ans</div>
                <div class="info-box"><strong>üìç Localisation :</strong><br>Tizi-Ouzou, Alg√©rie</div>
                <div class="info-box"><strong>üöó Permis :</strong><br>Permis B</div>
                <div class="info-box"><strong>üåê Langues :</strong><br>Anglais, Fran√ßais, Arabe, Kabyle</div>
                
            </div>
            <h3>Profil Professionnel</h3>
            <p>Ing√©nieur en R√©seaux, Mobilit√© et Syst√®mes Embarqu√©s, passionn√© par l'informatique. Curieux, polyvalent et rigoureux. Je recherche des opportunit√©s o√π je pourrai mettre √† profit ma cr√©ativit√© et mon sens de l'adaptation, tout en continuant √† progresser dans un environnement stimulant et innovant.</p>
            <h3>Certifications & Apprentissage Continu</h3>
            <div class="info-box">
                <strong>üèÜ Fundamentals of Deep Learning ‚Äì NVIDIA (2022)</strong><br>
                Certification officielle en apprentissage profond
            </div>
            <div class="skill-category">
                <strong>üìö Autoformation Continue</strong><br>
                ‚Ä¢ WordPress : d√©veloppement et personnalisation<br>
                ‚Ä¢ Intelligence Artificielle : projets pratiques<br>
                ‚Ä¢ Flutter : d√©veloppement d'applications mobiles<br>
                Approche bas√©e sur des projets pratiques pour approfondir les comp√©tences techniques.
            </div>
        </div>
    </div>

    <div class="window" id="formation-window" style="width:650px; height:450px; top:120px; left:180px;">
        <div class="window-header"><div class="window-title"><img class="window-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNGRkYiLz4KPC9zdmc+" alt=""> Formation Acad√©mique</div>
            <div class="window-controls">
                <div class="window-control" onclick="minimizeWindow('formation-window')">_</div>
                <div class="window-control" onclick="maximizeWindow('formation-window')">‚ñ°</div>
                <div class="window-control" onclick="closeWindow('formation-window')">√ó</div>
            </div>
        </div>
        <div class="window-content">
            <h2>Parcours Acad√©mique</h2>
            <div class="experience-item">
                <h3>üéì Master 2 ‚Äì R√©seaux, Mobilit√© et Syst√®mes Embarqu√©s (RMSE)</h3>
                <p><strong>Universit√© Mouloud Mammeri de Tizi-Ouzou (2022 ‚Äì 2024)</strong></p>
                <p><strong>Mention Bien</strong></p>
                <p>Formation ax√©e sur les r√©seaux avanc√©s, les syst√®mes embarqu√©s, la mobilit√© et la s√©curit√© informatique.</p>
            </div>
            <div class="experience-item">
                <h3>üéì Licence en Informatique</h3>
                <p><strong>Universit√© Mouloud Mammeri de Tizi-Ouzou (2019 ‚Äì 2022)</strong></p>
                <p><strong>Mention Bien</strong></p>
                <p>Sp√©cialisation en d√©veloppement logiciel, r√©seaux et bases de donn√©es.</p>
            </div>
            <div class="experience-item">
                <h3>üéì Baccalaur√©at ‚Äì S√©rie Math√©matiques</h3>
                <p><strong>Tizi-Ouzou (2019)</strong></p>
                <p><strong>Mention Bien</strong></p>
            </div>
        </div>
    </div>

    <div class="window" id="skills-window" style="width:700px; height:600px; top:80px; left:160px;">
        <div class="window-header"><div class="window-title"><img class="window-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iOCIgY3k9IjgiIHI9IjMiIGZpbGw9IiNGRkYiLz4KPC9zdmc+" alt=""> Comp√©tences Techniques</div>
            <div class="window-controls">
                <div class="window-control" onclick="minimizeWindow('skills-window')">_</div>
                <div class="window-control" onclick="maximizeWindow('skills-window')">‚ñ°</div>
                <div class="window-control" onclick="closeWindow('skills-window')">√ó</div>
            </div>
        </div>
        <div class="window-content">
            <h2>Stack Technique</h2>
            <div class="skill-category"><h3>üåê D√©veloppement Web</h3><strong>Technologies :</strong> HTML, CSS, JavaScript, PHP, WordPress</div>
            <div class="skill-category"><h3>üì± D√©veloppement Mobile</h3><strong>Technologies :</strong> Java, Flutter</div>
            <div class="skill-category"><h3>ü§ñ Intelligence Artificielle</h3><strong>Technologies :</strong> TensorFlow, PyTorch, G√©n√©ration d'images IA</div>
            <div class="skill-category"><h3>üé® Frameworks & Outils</h3><strong>Technologies :</strong> React, Three.js, Blender 3D (initiation)</div>
            <div class="skill-category"><h3>üîå Syst√®mes Embarqu√©s</h3><strong>Technologies :</strong> Arduino, PlatformIO</div>
            <div class="skill-category"><h3>üåê R√©seaux & S√©curit√©</h3><strong>Technologies :</strong> Cisco Packet Tracer, audit & pentesting</div>
        </div>
    </div>

    <div class="window" id="projects-window" style="width:750px; height:650px; top:60px; left:140px;">
        <div class="window-header"><div class="window-title"><img class="window-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNGRkYiLz4KPC9zdmc+" alt=""> Exp√©riences & Projets</div>
            <div class="window-controls">
                <div class="window-control" onclick="minimizeWindow('projects-window')">_</div>
                <div class="window-control" onclick="maximizeWindow('projects-window')">‚ñ°</div>
                <div class="window-control" onclick="closeWindow('projects-window')">√ó</div>
            </div>
        </div>
        <div class="window-content">
            <h2>Projets & R√©alisations</h2>
            <h3>üéì Projets Universitaires (UMMTO, 2019 ‚Äì 2024)</h3>
            <div class="project-item">
                <h3>ü¶Ø Projet de fin d'√©tudes ‚Äì Mention Tr√®s Bien</h3>
                <p><strong>Application mobile + syst√®me embarqu√© (d√©tecteur d'obstacles pour malvoyants)</strong></p>
                <p>D√©veloppement d'une solution compl√®te combinant une application mobile et un dispositif embarqu√© pour aider les personnes malvoyantes dans leur navigation.</p>
            </div>
            <div class="project-item">
                <h3>üåê Conception de sites web</h3>
                <p>Cr√©ation de sites vitrines et plateformes de r√©servation compl√®tes avec technologies web modernes.</p>
            </div>
            <div class="project-item">
                <h3>üîí Infrastructure r√©seau s√©curis√©e</h3>
                <p>Mise en place d'une infrastructure r√©seau compl√®te et s√©curis√©e avec configuration avanc√©e.</p>
            </div>
            <div class="project-item">
                <h3>üõ°Ô∏è Challenges CTF</h3>
                <p>Participation √† plusieurs challenges CTF (Capture The Flag) dans les domaines de l'IA et de la cybers√©curit√©.</p>
            </div>
            <h3>üöÄ Projets Personnels</h3>
            <div class="project-item">
                <h3>ü§ñ Projets IA / Data Science</h3>
                <p><strong>Titanic Challenge (Kaggle) :</strong> Pr√©diction de la survie des passagers √† partir de donn√©es tabulaires (pr√©traitement, feature engineering, mod√®les de classification).</p>
                <p><strong>House Prices Prediction (Kaggle) :</strong> Estimation du prix des maisons avec r√©gression multivari√©e et optimisation de mod√®les.</p>
                <p><strong>Technologies :</strong> Exp√©rimentation avec TensorFlow/PyTorch pour l'entra√Ænement de mod√®les.</p>
            </div>
            <div class="project-item">
                <h3>üì± Applications mobiles</h3>
                <p><strong>Application de gestion de location de voitures</strong> d√©velopp√©e avec React Native et Expo GO.</p>
                <p>Interface utilisateur compl√®te avec gestion des r√©servations.</p>
            </div>
            <div class="project-item">
                <h3>üåê Sites WordPress</h3>
                <p>R√©alisation de plusieurs sites vitrines, portfolios et one-page dynamiques (responsive, optimisation SEO de base) pour particuliers et petites agences.</p>
            </div>
        </div>
    </div>

    <div class="window" id="contact-window" style="width:550px; height:400px; top:150px; left:250px;">
        <div class="window-header"><div class="window-title"><img class="window-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIGZpbGw9IiNGRkYiLz4KPC9zdmc+" alt=""> Informations de Contact</div>
            <div class="window-controls">
                <div class="window-control" onclick="minimizeWindow('contact-window')">_</div>
                <div class="window-control" onclick="maximizeWindow('contact-window')">‚ñ°</div>
                <div class="window-control" onclick="closeWindow('contact-window')">√ó</div>
            </div>
        </div>
        <div class="window-content">
            <h2>Me Contacter</h2>
            <div class="contact-info">
                <div class="contact-item"><strong>üìß Email :</strong> <a href="mailto:dlotfi31@gmail.com">dlotfi31@gmail.com</a></div>
                <div class="contact-item"><strong>üì± T√©l√©phone :</strong> <a href="tel:+213555764609">0555 764 609</a></div>
                <div class="contact-item"><strong>üì± Mobile :</strong> <a href="tel:+213557025866">0557 025 866</a></div>
                <div class="contact-item"><strong>üìç Localisation :</strong> Tizi-Ouzou, Alg√©rie</div>
            </div>
            <div style="text-align:center; margin-top:20px; padding:15px; background:#e8f5e8; border-radius:5px;">
                <strong>üì© N'h√©sitez pas √† me contacter pour discuter de vos projets !</strong><br>
                <em>Je suis ouvert aux nouvelles opportunit√©s et collaborations.</em>
            </div>
        </div>
    </div>

    <div class="window" id="cv-window" style="width:700px; height:600px; top:80px; left:300px;">
        <div class="window-header"><div class="window-title"><img class="window-icon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMyIgeT0iMiIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEyIiBmaWxsPSIjRkZGIiBzdHJva2U9IiNDQ0MiLz4KPC9zdmc+" alt=""> CV - HAMMOUTENE LOTFI</div>
            <div class="window-controls">
                <div class="window-control" onclick="minimizeWindow('cv-window')">_</div>
                <div class="window-control" onclick="maximizeWindow('cv-window')">‚ñ°</div>
                <div class="window-control" onclick="closeWindow('cv-window')">√ó</div>
            </div>
        </div>
        <div class="window-content">
            <div style="text-align:center; margin-bottom:20px;">
                <h2 style="color:#1565c0; margin-bottom:10px;">HAMMOUTENE LOTFI</h2>
                <h3 style="color:#666; font-weight:normal;">Ing√©nieur en R√©seaux, Mobilit√© et Syst√®mes Embarqu√©s</h3>
                <hr style="margin:15px 0;">
            </div>
            <div class="info-grid">
                <div>
                    <strong>üìß Email :</strong> dlotfi31@gmail.com<br>
                    <strong>üì± T√©l√©phone :</strong> 0555 764 609 / 0557 025 866<br>
                    <strong>üìç Adresse :</strong> Tizi-Ouzou, Alg√©rie
                </div>
                <div>
                    <strong>üéÇ √Çge :</strong> 24 ans<br>
                    <strong>üöó Permis :</strong> Permis B<br>
                    <strong>üåê Langues :</strong> Anglais, Fran√ßais, Arabe, Kabyle <br>
            <div class="contact-item"onclick="downloadCV()"><a href="#">Telecharger Mon CV</a></div>
                </div>
            </div>
            <h3>üéì FORMATION</h3>
            <div class="experience-item">
                <strong>Master 2 RMSE (2022-2024)</strong><br>
                Universit√© Mouloud Mammeri, Tizi-Ouzou<br>
                <em>R√©seaux, Mobilit√© et Syst√®mes Embarqu√©s</em>
            </div>
            <div class="experience-item">
                <strong>Licence Informatique (2019-2022)</strong><br>
                Universit√© Mouloud Mammeri, Tizi-Ouzou<br>
                <em>Mention Bien (2020)</em>
            </div>
            <div class="experience-item">
                <strong>Baccalaur√©at Math√©matiques (2019)</strong><br>
                Tizi-Ouzou - <em>Mention Bien</em>
            </div>
            <h3>üíº COMP√âTENCES TECHNIQUES</h3>
            <div class="info-grid">
                <div class="skill-category"><strong>Web :</strong> HTML, CSS, JavaScript, PHP, WordPress</div>
                <div class="skill-category"><strong>Mobile :</strong> Java, Flutter</div>
                <div class="skill-category"><strong>IA :</strong> TensorFlow, PyTorch, G√©n√©ration d'images IA</div>
                <div class="skill-category"><strong>Frameworks :</strong> React, Three.js, Blender 3D (initiation)</div>
                <div class="skill-category"><strong>Embarqu√© :</strong> Arduino, PlatformIO</div>
                <div class="skill-category"><strong>R√©seaux :</strong> Cisco Packet Tracer, audit & pentesting</div>
            </div>
            <h3>üöÄ PROJETS MAJEURS</h3>
            <div class="project-item"><strong>ü¶Ø Projet de Fin d'√âtudes - Mention Tr√®s Bien</strong><br>Application mobile + syst√®me embarqu√© (d√©tecteur d'obstacles pour malvoyants)</div>
            <div class="project-item"><strong>ü§ñ Projets IA/Data Science</strong><br>‚Ä¢ Titanic Challenge (Kaggle) - Pr√©diction de survie<br>‚Ä¢ House Prices Prediction - Estimation de prix</div>
            <div class="project-item"><strong>üì± Application Mobile de Location</strong><br>Gestion de location de voitures avec React Native et Expo GO</div>
            <h3>üèÜ CERTIFICATIONS</h3>
            <div class="info-box"><strong>Fundamentals of Deep Learning ‚Äì NVIDIA (2022)</strong><br>Autoformation continue en WordPress, IA et Flutter (projets pratiques)</div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div style="display:flex; align-items:center;">
            <span style="margin-right:10px; font-size:16px;">üí¨</span>
            <div>
                <div style="font-weight:bold;" id="notif-title">Titre</div>
                <div id="notif-message">Message</div>
            </div>
            <button onclick="closeNotification()" style="margin-left:auto; background:none; border:none; cursor:pointer;">√ó</button>
        </div>
    </div>

    <!-- === JavaScript : gestion compl√®te + menu contextuel personnalis√© === -->
    <script>
        /* === Variables globales === */
        let activeWindows = new Set();
        let windowZIndex = 100;
        let draggedWindow = null;
        let dragOffset = { x:0, y:0 };
        let selectedIcon = null;

        /* === Initialisation apr√®s chargement === */
        document.addEventListener('DOMContentLoaded', () => {
            initClock();
            initializeEventListeners();
            // Boot screen : masquer apr√®s animation de chargement
            setTimeout(() => {
                const boot = document.getElementById('boot-screen');
                boot.classList.add('hidden');
                setTimeout(() => boot.style.display = 'none', 800);
                // montrer notification de bienvenue
                showNotification('Bienvenue !', 'Portfolio Windows XP de HAMMOUTENE LOTFI charg√© avec succ√®s');
            }, 3200); // laisse l'animation de 3s terminer
        });

        /* === Horloge === */
        function initClock() {
            updateClock();
            setInterval(updateClock, 1000);
        }
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('fr-FR', { hour:'2-digit', minute:'2-digit' });
            document.getElementById('clock').textContent = time;
        }

        /* === Evenements g√©n√©raux === */
        function initializeEventListeners() {
            // Ic√¥nes bureau
            document.querySelectorAll('.desktop-icon').forEach(icon => {
                icon.addEventListener('click', (e) => { e.stopPropagation(); selectIcon(icon); });
                icon.addEventListener('dblclick', (e) => { e.stopPropagation(); const win = icon.getAttribute('data-window'); if(win) openWindow(win); });
            });

            // Deselection et fermeture du start menu
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.desktop-icon')) deselectAllIcons();
                if (!e.target.closest('.start-menu') && !e.target.closest('.start-button')) closeStartMenu();
            });

            // Drag & drop des fen√™tres (header)
            document.querySelectorAll('.window-header').forEach(header => header.addEventListener('mousedown', startDrag));
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);

            // Raccourcis
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.key === 'Escape') closeAllWindows();
                if (e.key === 'F5') { e.preventDefault(); refreshDesktop(); }
            });

            // start button
            document.getElementById('start-button').addEventListener('click', toggleStartMenu);

            // Prevent select text while dragging
            document.addEventListener('selectstart', (e) => { if (draggedWindow) e.preventDefault(); });

            // prevent default context menu on desktop and show custom
            document.addEventListener('contextmenu', function(e) {
                const desktop = document.getElementById('desktop');
                if (e.target === desktop || e.target.closest('.desktop')) {
                    e.preventDefault();
                    showContextMenu(e.clientX, e.clientY);
                }
            });

            // close custom context on click elsewhere
            document.addEventListener('click', (e) => {
                if (!e.target.closest('#context-menu')) hideContextMenu();
            });

            // window load animation
            window.addEventListener('load', () => {
                document.body.style.opacity = '0';
                document.body.style.transition = 'opacity 1s ease';
                setTimeout(() => { document.body.style.opacity = '1'; }, 100);
            });

            // resize => reposition windows if needed
            window.addEventListener('resize', () => {
                document.querySelectorAll('.window.active').forEach(win => {
                    const rect = win.getBoundingClientRect();
                    if (rect.right > window.innerWidth) win.style.left = (window.innerWidth - win.offsetWidth) + 'px';
                    if (rect.bottom > window.innerHeight - 30) win.style.top = (window.innerHeight - win.offsetHeight - 30) + 'px';
                });
            });

            // inactivity screen saver notification
            let inactivityTimer;
            const resetInactivityTimer = () => {
                clearTimeout(inactivityTimer);
                inactivityTimer = setTimeout(() => showNotification('√âcran de veille', 'Mode veille activ√© - Bougez la souris pour continuer'), 300000);
            };
            document.addEventListener('mousemove', resetInactivityTimer);
            document.addEventListener('keydown', resetInactivityTimer);
            resetInactivityTimer();
        }

        /* === S√©lection ic√¥nes === */
        function selectIcon(icon) {
            deselectAllIcons();
            icon.classList.add('selected');
            selectedIcon = icon;
        }
        function deselectAllIcons() {
            document.querySelectorAll('.desktop-icon').forEach(icon => icon.classList.remove('selected'));
            selectedIcon = null;
        }

        /* === Start menu === */
        function toggleStartMenu() {
            const startMenu = document.getElementById('start-menu');
            startMenu.classList.toggle('active');
        }
        function closeStartMenu() {
            const startMenu = document.getElementById('start-menu');
            startMenu.classList.remove('active');
        }

        /* === Gestion fen√™tres -> open / close / minimize / maximize / taskbar === */
        function openWindow(windowId) {
            closeStartMenu();
            const win = document.getElementById(windowId);
            if (!win) return;
            win.classList.add('active');
            activeWindows.add(windowId);
            windowZIndex++; win.style.zIndex = windowZIndex;

            // scale animation
            win.style.transform = 'scale(0.8)';
            win.style.opacity = '0';
            setTimeout(() => {
                win.style.transition = 'all 0.2s ease';
                win.style.transform = 'scale(1)';
                win.style.opacity = '1';
                setTimeout(() => win.style.transition = '', 200);
            }, 10);

            updateTaskbar();
        }

        function closeWindow(windowId) {
            const win = document.getElementById(windowId);
            if (!win) return;
            win.style.transition = 'all 0.2s ease';
            win.style.transform = 'scale(0.8)';
            win.style.opacity = '0';
            setTimeout(() => {
                win.classList.remove('active');
                win.style.transition = '';
                win.style.transform = '';
                win.style.opacity = '';
            }, 200);
            activeWindows.delete(windowId);
            updateTaskbar();
        }

        function minimizeWindow(windowId) {
            const win = document.getElementById(windowId);
            if (!win) return;
            const taskbar = document.querySelector('.taskbar');
            const rect = taskbar.getBoundingClientRect();
            win.style.transition = 'all 0.3s ease';
            win.style.transform = `scale(0.1) translate(${rect.left - win.offsetLeft}px, ${rect.top - win.offsetTop}px)`;
            win.style.opacity = '0.5';
            setTimeout(() => {
                win.classList.remove('active');
                win.style.transition = '';
                win.style.transform = '';
                win.style.opacity = '';
            }, 300);
            updateTaskbar();
        }

        function maximizeWindow(windowId) {
            const win = document.getElementById(windowId);
            if (!win) return;
            if (win.classList.contains('maximized')) win.classList.remove('maximized');
            else win.classList.add('maximized');
        }

        function updateTaskbar() {
            const taskbarApps = document.getElementById('taskbar-apps');
            taskbarApps.innerHTML = '';
            activeWindows.forEach(windowId => {
                const win = document.getElementById(windowId);
                if (!win) return;
                const title = win.querySelector('.window-title').textContent;
                const app = document.createElement('div');
                app.className = 'taskbar-app';
                app.textContent = title;
                app.onclick = () => {
                    if (win.classList.contains('active')) minimizeWindow(windowId);
                    else openWindow(windowId);
                };
                if (win.classList.contains('active')) app.classList.add('active');
                taskbarApps.appendChild(app);
            });
        }

        function closeAllWindows() {
            [...activeWindows].forEach(id => closeWindow(id));
        }

        /* === Drag & Drop fen√™tres === */
        function startDrag(e) {
            e.preventDefault();
            const win = e.target.closest('.window');
            if (!win || win.classList.contains('maximized')) return;
            draggedWindow = win;
            const rect = win.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;
            win.classList.add('dragging');
            windowZIndex++; win.style.zIndex = windowZIndex;
        }

        function drag(e) {
            if (!draggedWindow) return;
            e.preventDefault();
            const x = e.clientX - dragOffset.x;
            const y = e.clientY - dragOffset.y;
            const maxX = window.innerWidth - draggedWindow.offsetWidth;
            const maxY = window.innerHeight - draggedWindow.offsetHeight - 30;
            draggedWindow.style.left = Math.max(0, Math.min(x, maxX)) + 'px';
            draggedWindow.style.top = Math.max(0, Math.min(y, maxY)) + 'px';
        }

        function endDrag() {
            if (draggedWindow) {
                draggedWindow.classList.remove('dragging');
                draggedWindow = null;
            }
        }

        /* === Notifications === */
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            const notifTitle = document.getElementById('notif-title');
            const notifMessage = document.getElementById('notif-message');
            notifTitle.textContent = title;
            notifMessage.textContent = message;
            notification.style.display = 'block';
            clearTimeout(notification._timeout);
            notification._timeout = setTimeout(closeNotification, 4000);
        }
        function closeNotification() { const n=document.getElementById('notification'); n.style.display='none'; }

        /* === Sons (simulation) === */
        function playSystemSound(sound) { /* placeholder: on pourrait jouer un audio */ console.log('üîä Son syst√®me :', sound); }
        document.addEventListener('mouseover', function(e) {
            if (e.target.classList && (e.target.classList.contains('window-control') || e.target.classList.contains('start-button') || e.target.classList.contains('taskbar-app'))) playSystemSound('hover');
        });
        document.addEventListener('click', function(e) {
            if (e.target.classList && (e.target.classList.contains('window-control') || e.target.classList.contains('start-button') || e.target.classList.contains('desktop-icon'))) playSystemSound('click');
        });

        /* === Refresh Desktop (animation) === */
        function refreshDesktop() {
            document.querySelectorAll('.desktop-icon').forEach(icon => {
                icon.style.animation = 'none';
                setTimeout(() => { icon.style.animation = 'fadeIn 0.5s ease'; }, 10);
            });
            showNotification('Actualisation', 'Bureau Windows XP actualis√© avec succ√®s !');
        }

        /* === Shutdown flow === */
        function triggerShutdown() {
            closeStartMenu();
            showNotification('Arr√™t du syst√®me...', 'Fermeture de Windows XP');
            setTimeout(() => {
                document.getElementById('shutdown-screen').classList.add('active');
                // masquer tout le reste visuellement
                document.querySelectorAll('.window').forEach(w => w.classList.remove('active'));
                document.getElementById('taskbar-apps').innerHTML = '';
                activeWindows.clear();
            }, 800);
        }

        /* === T√©l√©chargement CV (simulation r√©elle) === */
        function downloadCV() {
            showNotification('T√©l√©chargement', 'Pr√©paration du CV...');
            // Simuler la g√©n√©ration d'un PDF simple et lancer le t√©l√©chargement
            setTimeout(() => {
                const cvText = `CV - HAMMOUTENE LOTFI\nIng√©nieur RMSE\nEmail: dlotfi31@gmail.com\n...`;
                const blob = new Blob([cvText], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'CV_HAMMOUTENE_LOTFI.txt';
                document.body.appendChild(a);
                a.click();
                a.remove();
                URL.revokeObjectURL(url);
                showNotification('T√©l√©chargement', 'CV t√©l√©charg√© (simul√©).');
            }, 800);
        }

        function visitLinkedIn() {
            showNotification('LinkedIn', 'Ouverture de LinkedIn...');
            // Ouvre un nouvel onglet sur un profil LinkedIn (placeholder)
            setTimeout(() => { window.open('https://www.linkedin.com/', '_blank'); }, 500);
        }

        function changeTheme() {
            const themes = ['Bliss (Original)', 'Mode Nuit', 'Mode For√™t'];
            const randomTheme = themes[Math.floor(Math.random() * themes.length)];
            showNotification('Th√®me', `Th√®me "${randomTheme}" appliqu√© !`);
            // effet cosm√©tique : on inverse bri√®vement les couleurs pour l'illusion
            if (randomTheme === 'Mode Nuit') {
                document.body.style.filter = 'brightness(0.7) saturate(0.9)';
                setTimeout(() => document.body.style.filter = '', 2000);
            } else if (randomTheme === 'Mode For√™t') {
                document.body.style.filter = 'hue-rotate(80deg) saturate(1.1)';
                setTimeout(() => document.body.style.filter = '', 2000);
            } else {
                // "Bliss" : retour normal
                document.body.style.filter = '';
            }
        }

        function openAllProjects() {
            openWindow('projects-window');
            openWindow('skills-window');
            showNotification('Portfolio', 'Tous mes projets sont maintenant affich√©s !');
        }

        /* === Menu contextuel personnalis√© (injection dynamique) === */
        let contextMenu = null;
        function createContextMenu() {
            const menu = document.createElement('div');
            menu.id = 'context-menu';
            menu.style.cssText = `
                position: fixed;
                background: linear-gradient(to bottom, #f0f0f0 0%, #e0e0e0 100%);
                border: 2px outset #c0c0c0;
                box-shadow: 4px 4px 8px rgba(0,0,0,0.3);
                padding: 2px;
                z-index: 10000;
                display: none;
                min-width: 220px;
                border-radius: 6px;
                font-family: inherit;
            `;

            const items = [
                { icon:'üéØ', text:'Ouvrir tous les projets', action:() => openAllProjects() },
                { icon:'üìß', text:'Me contacter rapidement', action:() => openWindow('contact-window') },
                { icon:'üìÑ', text:'T√©l√©charger mon CV', action:() => downloadCV() },
                { icon:'üåê', text:'Visiter mon LinkedIn', action:() => visitLinkedIn() },
                { divider:true },
                { icon:'üé®', text:'Changer de th√®me', action:() => changeTheme() },
                { icon:'üîÑ', text:'Actualiser le bureau', action:() => refreshDesktop() }
            ];

            items.forEach(item => {
                if (item.divider) {
                    const hr = document.createElement('hr');
                    hr.style.cssText = 'margin:6px 4px; border:1px solid #bbb; opacity:0.9;';
                    menu.appendChild(hr);
                } else {
                    const row = document.createElement('div');
                    row.style.cssText = 'padding:8px 12px; cursor:pointer; font-size:11px; display:flex; align-items:center; gap:8px;';
                    row.innerHTML = `<span style="width:18px;text-align:center;">${item.icon}</span><span style="flex:1">${item.text}</span>`;
                    row.addEventListener('mouseenter', () => { row.style.background = '#316ac5'; row.style.color = '#fff'; });
                    row.addEventListener('mouseleave', () => { row.style.background = ''; row.style.color = ''; });
                    row.addEventListener('click', () => { item.action(); hideContextMenu(); });
                    menu.appendChild(row);
                }
            });

            document.body.appendChild(menu);
            return menu;
        }

        function showContextMenu(x,y) {
            if (!contextMenu) contextMenu = createContextMenu();
            // Position correction pour ne pas d√©border de l'√©cran
            const menu = contextMenu;
            menu.style.display = 'block';
            menu.style.left = x + 'px';
            menu.style.top = y + 'px';
            // ajuster si d√©borde √† droite/bottom
            const rect = menu.getBoundingClientRect();
            if (rect.right > window.innerWidth) menu.style.left = (window.innerWidth - rect.width - 10) + 'px';
            if (rect.bottom > window.innerHeight) menu.style.top = (window.innerHeight - rect.height - 10) + 'px';
        }

        function hideContextMenu() {
            if (contextMenu) contextMenu.style.display = 'none';
        }

        /* === Menu contextuelle: fermer lors drag etc. d√©j√† pris en charge plus haut === */

        /* === Menu contextuel sur touch devices (long press) : basic fallback === */
        let touchTimer = null;
        document.addEventListener('touchstart', (e) => {
            if (e.target.closest('.desktop')) {
                touchTimer = setTimeout(() => {
                    const touch = e.touches[0];
                    showContextMenu(touch.clientX, touch.clientY);
                }, 600);
            }
        });
        document.addEventListener('touchend', () => { clearTimeout(touchTimer); });

        /* === Protection against accidental text selection for UX already handled === */
function downloadCV() {
    const link = document.createElement('a');
    link.href = 'HammoutenelotfiCV.pdf'; // fichier plac√© √† la racine
    link.download = 'Hammoutene lotfi CV.pdf'; // nom du fichier t√©l√©charg√©
    link.click();
}
    </script>
</body>
</html>
